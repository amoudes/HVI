bgstyle fade
openc command "para01.cfile"
cemptymodel
genselect target edge
genselect clear
//DRAW POINTS AND BASIC GEOMETRY
mesh2d createrpoint 1 &x1 &y1 
mesh2d createrpoint 2 &x2 &y2 
mesh2d createrpoint 3 &x3 &y3 
mesh2d createrpoint 4 &x4 &y4 
mesh2d createrpoint 5 &x5 &y5 
mesh2d createrpoint 6 &x6 &y6 
mesh2d createrpoint 7 &x7 &y7 
mesh2d createrpoint 8 &x8 &y8 
mesh2d createrpoint 9 &x9 &y9 
mesh2d createrpoint 10 &x10 &y10 
mesh2d createrpoint 11 &x11 &y11 
mesh2d createrpoint 12 &x12 &y12 
mesh2d createrpoint 13 &x13 &y13 
mesh2d createrpoint 14 &x14 &y14 
mesh2d createrpoint 15 &x15 &y15 
mesh2d createrpoint 16 &x16 &y16 
mesh2d createrpoint 17 &x17 &y17 
mesh2d createrpoint 18 &x18 &y18 
mesh2d createrpoint 19 &x19 &y19 
mesh2d createrpoint 20 &x20 &y20 
mesh2d createrpoint 21 &x21 &y21 
mesh2d createrpoint 22 &x22 &y22 
mesh2d createrpoint 23 &x23 &y23 
mesh2d createrpoint 24 &x24 &y24 
mesh2d createrpoint 25 &x25 &y25 
mesh2d createrpoint 26 &x26 &y26 
mesh2d createrpoint 27 &x27 &y27 
mesh2d createrpoint 28 &x28 &y28 
mesh2d acen
mesh2d createline 29 1 7
mesh2d createline 30 2 7
mesh2d createline 31 3 7
mesh2d createline 32 6 7
mesh2d createline 33 6 8
mesh2d createline 34 3 8
mesh2d createline 35 4 8
mesh2d createline 36 5 8
mesh2d createline 37 1 2
mesh2d createline 38 4 5
mesh2d createline 39 2 12
mesh2d createline 40 9 12
mesh2d createline 41 10 12
mesh2d createline 42 3 12
mesh2d createline 43 3 13
mesh2d createline 44 10 13
mesh2d createline 45 11 13
mesh2d createline 46 4 13
mesh2d createline 47 9 2
mesh2d createline 48 11 4
mesh2d createline 49 9 17
mesh2d createline 50 14 17
mesh2d createline 51 15 17
mesh2d createline 52 10 17
mesh2d createline 53 10 18
mesh2d createline 54 15 18
mesh2d createline 55 16 18
mesh2d createline 56 11 18
mesh2d createline 57 9 14
mesh2d createline 58 16 11
mesh2d createline 59 14 22
mesh2d createline 60 19 22
mesh2d createline 61 20 22
mesh2d createline 62 15 22
mesh2d createline 63 15 23
mesh2d createline 64 20 23
mesh2d createline 65 21 23
mesh2d createline 66 16 23
mesh2d createline 67 14 19
mesh2d createline 68 21 16
mesh2d createline 69 19 27
mesh2d createline 70 24 27
mesh2d createline 71 25 27
mesh2d createline 72 20 27
mesh2d createline 73 20 28
mesh2d createline 74 25 28
mesh2d createline 75 26 28
mesh2d createline 76 21 28
mesh2d createline 77 19 24
mesh2d createline 78 26 21
mesh2d sbdown
home
ac
// OFFSET CURVES
// 1
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  2e
genselect occobject add occobject  1e
genselect occobject add occobject  9e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 2e 1 9
// 2
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  8e
genselect occobject add occobject  7e
genselect occobject add occobject  10e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 8e 7 10
// 3
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  12e
genselect occobject add occobject  11e
genselect occobject add occobject  19e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 12e 11 19
// 4
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  18e
genselect occobject add occobject  17e
genselect occobject add occobject  20e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 18e 17 20
// 5
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  22e
genselect occobject add occobject  21e
genselect occobject add occobject  29e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 22e 21 29
// 6
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  28e
genselect occobject add occobject  27e
genselect occobject add occobject  30e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 28e 27 30
// 7
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  32e
genselect occobject add occobject  31e
genselect occobject add occobject  39e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 32e 31 39
// 8
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  38e
genselect occobject add occobject  37e
genselect occobject add occobject  40e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 38e 37 40
// 9
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  42e
genselect occobject add occobject  41e
genselect occobject add occobject  49e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 42e 41 49
// 10
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  48e
genselect occobject add occobject  47e
genselect occobject add occobject  50e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 48e 47 50
//
// SQUARES
// 1
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  4e
genselect occobject add occobject  3e
genselect occobject add occobject  6e
genselect occobject add occobject  5e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 4e 3 6 5
// 2
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  3e
genselect occobject add occobject  14e
genselect occobject add occobject  11e
genselect occobject add occobject  2e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 3e 14 11 2
// 3
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  7e
genselect occobject add occobject  18e
genselect occobject add occobject  15e
genselect occobject add occobject  6e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 7e 18 15 6
// 4
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  14e
genselect occobject add occobject  13e
genselect occobject add occobject  16e
genselect occobject add occobject  15e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 14e 13 16 15
// 5
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  13e
genselect occobject add occobject  24e
genselect occobject add occobject  21e
genselect occobject add occobject  12e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 13e 24 21 12
// 6
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  17e
genselect occobject add occobject  28e
genselect occobject add occobject  25e
genselect occobject add occobject  16e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 17e 28 25 16
// 7
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  24e
genselect occobject add occobject  23e
genselect occobject add occobject  26e
genselect occobject add occobject  25e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 24e 23 26 25
// 8
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  23e
genselect occobject add occobject  34e
genselect occobject add occobject  31e
genselect occobject add occobject  22e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 23e 34 31 22
// 9
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  27e
genselect occobject add occobject  38e
genselect occobject add occobject  35e
genselect occobject add occobject  26e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 27e 38 35 26
// 10
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  34e
genselect occobject add occobject  33e
genselect occobject add occobject  36e
genselect occobject add occobject  35e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 34e 33 36 35
// 11
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  33e
genselect occobject add occobject  44e
genselect occobject add occobject  41e
genselect occobject add occobject  32e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 33e 44 41 32
// 12
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  37e
genselect occobject add occobject  48e
genselect occobject add occobject  45e
genselect occobject add occobject  36e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 37e 48 45 36
// 13
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  44e
genselect occobject add occobject  43e
genselect occobject add occobject  46e
genselect occobject add occobject  45e
offsetgeom  planeedgewire 0.375 invert tags 2 0 0 44e 43 46 45
genselect clear
//
// OUTER PERIMETER
// 13
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
genselect occobject add occobject  8e
genselect occobject add occobject  5e
genselect occobject add occobject  4e
genselect occobject add occobject  1e
genselect occobject add occobject  9e
genselect occobject add occobject  19e
genselect occobject add occobject  29e
genselect occobject add occobject  39e
genselect occobject add occobject  49e
genselect occobject add occobject  42e
genselect occobject add occobject  43e
genselect occobject add occobject  46e
genselect occobject add occobject  47e
genselect occobject add occobject  50e
genselect occobject add occobject  40e
genselect occobject add occobject  30e
genselect occobject add occobject  20e
genselect occobject add occobject  10e
offsetgeom planeedgewire 0.375 tags 2 0 0 8e 5 4 1 9 19 29 39 49 42 43 46 47 50 40 30 20 10 
genselect clear
// DELETE UNNECESSARY LINEs
genselect clear
geomag del 1e 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 //
//
// MESHING
genselect target occobject
occfilter clear
occfilter add Edge Wire
undogeom enter
nlmesh2 switch 4 1 0.2500
nlmesh2 sizepara 0 0.25000
genselect clear
nlmesh2 clearsel
nlmesh2 clearsel
genselect occobject add occobjectcheck  24w
nlmesh2 seledge 24w 0 1
genselect clear
nlmesh2 clearsel
nlmesh2 clearsel
genselect occobject add occobjectcheck  1w 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
nlmesh2 seledge 1w 0 1
nlmesh2 seledge 2w 0 1
nlmesh2 seledge 3w 0 1
nlmesh2 seledge 4w 0 1
nlmesh2 seledge 5w 0 1
nlmesh2 seledge 6w 0 1
nlmesh2 seledge 7w 0 1
nlmesh2 seledge 8w 0 1
nlmesh2 seledge 9w 0 1
nlmesh2 seledge 10w 0 1
nlmesh2 seledge 11w 0 1
nlmesh2 seledge 12w 0 1
nlmesh2 seledge 13w 0 1
nlmesh2 seledge 14w 0 1
nlmesh2 seledge 15w 0 1
nlmesh2 seledge 16w 0 1
nlmesh2 seledge 17w 0 1
nlmesh2 seledge 18w 0 1
nlmesh2 seledge 19w 0 1
nlmesh2 seledge 20w 0 1
nlmesh2 seledge 21w 0 1
nlmesh2 seledge 22w 0 1
nlmesh2 seledge 23w 0 1
nlmesh2 seledge 24w 0 1
nlmesh2 mesh 1 4 0
nlmesh2 accept 1
genselect clear
nlmesh2 clearsel
nlmesh2 clearsel
//
//
// EXTRUDE
genselect target edge
genselect target segment
genselect element add part 1/0
elgenerate solid solidfacedrag 2 30000000 75.0000 300 0 0 0 0 0 4
genselect clear
elgenerate accept
//
//
// DELETE SHELL
partdata delete 1
//
//
// DELETE WIRES
geomag delnoundo 1w 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
//
//
// EDIT PART PARAMETERS
KEYWORD INPUT 1
*PART
$#                                                                         title
Wall
$#     pid     secid       mid     eosid      hgid      grav    adpopt      tmid
         2         1         2         2         0         0         0         0
*END
//
//
// RENUMBER ENTIRE PART
renumber clean
renumber offset 0
renumber setkind NODE 9999999
renumber setrange 1 2612680 2612680
renumber renumkind 170
renumber keyword
renum occupant models
renumber clean
renumber offset 0
renumber setkind SOLID_ELEM 9999999
renumber setrange 30000000 31977599 1977600
renumber renumkind 133
renumber keyword
renum occupant models
//
//
//
// CREATE NODE SETTS FOR BOUNDARY CONDITIONS
//
// FIX XY LEFT CORNER NODES
genselect target node
genselect clear
genselect clear
Coincident nodes found. Select node ID
genselect node add box in 100.00010 -38.40523 -0.00010 99.99990 -38.40543 75.00010
genselect node add box in 100.00010 38.40543 -0.00010 99.99990 38.40523 75.00010
genselect node add box in 100.00010 1000.00000 -0.00010 99.99990 -1000.00000 0.00010
genselect node add box in 100.00010 1000.00000 74.99990 99.99990 -1000.00000 75.00010
setnode createset 5 1 0 0 0 0 "Fix XY Wall" 
genselect clear
//
// SAVE OUTPUT
save keyword "mesh_wall.key"
exit
